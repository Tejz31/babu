<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine ‚ù§Ô∏è</title>
<style>
  body{
    margin:0;height:100vh;display:flex;align-items:center;justify-content:center;
    background:radial-gradient(circle at top,#1a0024,#000814);
    color:white;font-family:'Segoe UI',sans-serif;overflow:hidden;
  }
  .card{background:rgba(255,255,255,0.06);backdrop-filter:blur(12px);padding:50px 60px;border-radius:16px;text-align:center;box-shadow:0 0 40px rgba(255,75,110,.25);width:80vw;max-width:700px;min-height:260px}
  h1{color:#ff7aa2}
  p{font-size:18px;min-height:60px}
  button{padding:12px 22px;border:none;border-radius:25px;margin:10px;font-size:16px;cursor:pointer}
  .yes{background:white;color:black;font-size:20px;padding:16px 28px;transform:scale(1.1);border:2px solid #ff7aa2}
  .no{background:#ddd}
  .heart{position:absolute;color:#ff7aa2;animation:float 7s linear infinite}
  @keyframes float{from{transform:translateY(100vh);opacity:1}to{transform:translateY(-10vh);opacity:0}}
  #photo{display:none;width:220px;border-radius:15px;margin-top:15px;box-shadow:0 0 20px rgba(255,255,255,.3)}
  canvas{position:fixed;top:0;left:0;pointer-events:none}
</style>
</head>
<body>
<canvas id="fire"></canvas>
<div class="card" id="card">
<h1>Hey Babu ‚ù§Ô∏è</h1><div style="font-size:12px;opacity:.6">v2</div>
<p id="text"></p>
<div id="buttons">
<button id="yesBtn" class="yes" onclick="sayYes()">Yes ‚ù§Ô∏è</button>
<button class="no" onmouseover="moveNo(this)" ontouchstart="moveNo(this)">No üò†</button>
</div>
<img id="photo" src="photo.jpg" />
</div>
<script>
// FIXED: message string must be inside quotes
const message = "will you be my valentine ??";

let i=0;
function type(){
  if(i<message.length){
    document.getElementById('text').innerHTML+=message.charAt(i);
    i++;
    setTimeout(type,35);
  }
}


function sayYes(){
  document.getElementById('buttons').style.display='none';
  startQuiz();
}

// QUIZ SECTION
const questions=[
  {
    q:"My usual mood at night üòú",
    options:["Extra romantic mode üòå","Irritating you on purpose üòÜ","Need hug mode ü§ó","Becoming emotional suddenly ü•π"],
    correct:2
  },
  {
    q:"Who says sorry first usually? üòÜ",
    options:["You","Me","Both","No one"],
    correct:3
  },
  {
    q:"My favourite word I call you?",
    options:["Babu","Teja","Baby","Oye"],
    correct:1
  },
  {
    q:"What was my first gift to you?",
    options:["Shirt","Chocolate","Coffee mug","Perfume"],
    correct:3
  },
  {
    q:"Who loves more?",
    options:["Me obviously üòå","You secretly ‚ù§Ô∏è","Both equally ü•∞","Depends on the mood üòÜ"],
    correct:1
  },
  {
    q:"What makes me calm instantly?",
    options:["Your hug ü§ó","Talking to you ‚ù§Ô∏è","Food üòÑ","Silence / alone time üåô"],
    correct:1
  },
  {
    q:"My favourite photo of us?",
    options:["Our wedding day photo üíç","Our late-night photo üåô","The photo where you‚Äôre hugging me ü§ó","That mirror selfie we took ü™û","Our first selfie together üì∏"],
    correct:4
  }
];
let qIndex=0;

function startQuiz(){
  showQuestion();
}

function showQuestion(){
  const card=document.getElementById('card');
  card.innerHTML=`<h2>${questions[qIndex].q}</h2><div id='opts'></div><p id='response'></p>`;
  const box=document.getElementById('opts');
  questions[qIndex].options.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.innerText=opt;
    btn.style.margin='8px';
    btn.style.padding='10px 18px';
    btn.onclick=()=>checkAnswer(i);
    box.appendChild(btn);
  });
}

function checkAnswer(i){
  const res=document.getElementById('response');
  if((i+1)===questions[qIndex].correct){
    res.innerHTML="Aww you remember ü•π‚ù§Ô∏è";
    setTimeout(()=>{ nextQ(); },1200);
  }else{
    res.innerHTML=`<div style='margin-top:10px'>
      <img src='wrong.png' style='width:180px;border-radius:12px;display:block;margin:10px auto'>
      <div>Hmm wrong üò§ wait‚Ä¶ we'll discuss later!</div>
    </div>`;
    setTimeout(()=>{ nextQ(); },1500);
  }
}

function nextQ(){
  qIndex++;
  if(qIndex<questions.length){
    showQuestion();
  }else{
    finishLove();
  }
}else{
        finishLove();
      }
    },1200);
  }else{
    res.innerHTML=`<div style='margin-top:10px'>
      <img src='wrong.png' style='width:180px;border-radius:12px;display:block;margin:10px auto'>
      <div>Hmm wrong üò§ wait‚Ä¶ we'll discuss later!</div>
    </div>`;
    setTimeout(()=>{
      qIndex++;
      if(qIndex<questions.length){
        showQuestion();
      }else{
        finishLove();
      }
    },1500);</div>
    </div>`;
  }
}

function finishLove(){
  document.getElementById('card').innerHTML=`
  <h1>Hehe I knew it ‚ù§Ô∏è</h1>
  <img src='yes.png' style='width:200px;border-radius:12px;margin:15px auto;display:block'>
  <img id='photo' src='photo.jpg' style='display:block;width:220px;border-radius:15px;margin:auto'>`;
  loveTyping();
  startFireworks();
}

function loveTyping(){
  let msg='I love you ‚ù§Ô∏è';
  let j=0;
  let el=document.createElement('h2');
  el.style.color='#ff9ac0';
  document.getElementById('card').appendChild(el);
  (function t(){if(j<msg.length){el.innerHTML+=msg[j++];setTimeout(t,120)}})()
}

function moveNo(b){
  b.style.position='fixed';
  const x=Math.random()*90;
  const y=Math.random()*90;
  b.style.left=x+'vw';
  b.style.top=y+'vh';
  b.style.transition='all 0.15s ease';
}

function heart(){
  const h=document.createElement('div');
  h.className='heart';
  h.innerHTML='‚ù§';
  h.style.left=Math.random()*100+'vw';
  h.style.fontSize=(10+Math.random()*30)+'px';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
}
setInterval(heart,300);

const c=document.getElementById('fire'),ctx=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let particles=[];

function startFireworks(){
  setInterval(()=>{
    for(let i=0;i<80;i++)particles.push({x:c.width/2,y:c.height/2,dx:(Math.random()-0.5)*6,dy:(Math.random()-0.5)*6,life:100})
  },600);
}

function draw(){
  ctx.clearRect(0,0,c.width,c.height);
  particles.forEach(p=>{ctx.fillStyle='white';ctx.fillRect(p.x,p.y,2,2);p.x+=p.dx;p.y+=p.dy;p.life--});
  particles=particles.filter(p=>p.life>0);
  requestAnimationFrame(draw);
}
draw();

document.addEventListener('DOMContentLoaded',()=>{
  const y=document.getElementById('yesBtn');
  if(y){y.addEventListener('click',()=>{sayYes();});} 
});
</script>
</body>
</html>
